package cs2020;

import static org.junit.Assert.*;

import java.util.*;

import org.junit.Test;

/**
 * CATest A series of test cases to check for the correctness of CA class
 * 
 * @author Khor Shi-Jie
 */
public class CATest {
	/**
	 * Case 1: Test the initialisation of the CA 
	 */
	@Test
	public void initialisingTest(){
		CA oddCA = new CA(31);
		CA evenCA = new CA(32);
		int[] rule = {0,1,0,0,0,1,0,0};
		oddCA.initialize(rule);
		evenCA.initialize(rule);
		assertEquals("InitializationTestOdd", "               1               ", oddCA.toString());
		assertEquals("InitializationTestEven", "               11               ", evenCA.toString());
	}
	
	/**
	 * Case 2: Step Test Even
	 */
	@Test
	public void stepTestEven(){
		// Sierpinski Carpet Test
		CA testCA = new CA(100);
		int[] rule = {1,0,0,1,0,0,0,1};
		testCA.initialize(rule);
		StringBuilder sb = new StringBuilder();
		sb.append(testCA.toString());
		for(int i = 0; i < 100; i++){
			testCA.step();
			sb.append("\n");
			sb.append(testCA.toString());
		}
		assertEquals("Step Test", "                                                 11                                                 \n111111111111111111111111111111111111111111111111 1  111111111111111111111111111111111111111111111111\n11111111111111111111111111111111111111111111111     11111111111111111111111111111111111111111111111 \n1111111111111111111111111111111111111111111111  111 1111111111111111111111111111111111111111111111  \n111111111111111111111111111111111111111111111   11  111111111111111111111111111111111111111111111  1\n11111111111111111111111111111111111111111111  1 1   11111111111111111111111111111111111111111111    \n1111111111111111111111111111111111111111111       1 1111111111111111111111111111111111111111111  111\n111111111111111111111111111111111111111111  11111   111111111111111111111111111111111111111111   11 \n11111111111111111111111111111111111111111   1111  1 11111111111111111111111111111111111111111  1 1  \n1111111111111111111111111111111111111111  1 111     1111111111111111111111111111111111111111       1\n111111111111111111111111111111111111111     11  111 111111111111111111111111111111111111111  11111  \n11111111111111111111111111111111111111  111 1   11  11111111111111111111111111111111111111   1111  1\n1111111111111111111111111111111111111   11    1 1   1111111111111111111111111111111111111  1 111    \n111111111111111111111111111111111111  1 1  11     1 111111111111111111111111111111111111     11  111\n11111111111111111111111111111111111        1  111   11111111111111111111111111111111111  111 1   11 \n1111111111111111111111111111111111  111111    11  1 1111111111111111111111111111111111   11    1 1  \n111111111111111111111111111111111   11111  11 1     111111111111111111111111111111111  1 1  11     1\n11111111111111111111111111111111  1 1111   1    111 11111111111111111111111111111111        1  111  \n1111111111111111111111111111111     111  1   11 11  1111111111111111111111111111111  111111    11  1\n111111111111111111111111111111  111 11     1 1  1   111111111111111111111111111111   11111  11 1    \n11111111111111111111111111111   11  1  111        1 11111111111111111111111111111  1 1111   1    111\n1111111111111111111111111111  1 1      11  111111   1111111111111111111111111111     111  1   11 11 \n111111111111111111111111111       1111 1   11111  1 111111111111111111111111111  111 11     1 1  1  \n11111111111111111111111111  11111 111    1 1111     11111111111111111111111111   11  1  111        1\n1111111111111111111111111   1111  11  11   111  111 1111111111111111111111111  1 1      11  111111  \n111111111111111111111111  1 111   1   1  1 11   11  111111111111111111111111       1111 1   11111  1\n11111111111111111111111     11  1   1      1  1 1   11111111111111111111111  11111 111    1 1111    \n1111111111111111111111  111 1     1   1111        1 1111111111111111111111   1111  11  11   111  111\n111111111111111111111   11    111   1 111  111111   111111111111111111111  1 111   1   1  1 11   11 \n11111111111111111111  1 1  11 11  1   11   11111  1 11111111111111111111     11  1   1      1  1 1  \n1111111111111111111        1  1     1 1  1 1111     1111111111111111111  111 1     1   1111        1\n111111111111111111  111111      111        111  111 111111111111111111   11    111   1 111  111111  \n11111111111111111   11111  1111 11  111111 11   11  11111111111111111  1 1  11 11  1   11   11111  1\n1111111111111111  1 1111   111  1   11111  1  1 1   1111111111111111        1  1     1 1  1 1111    \n111111111111111     111  1 11     1 1111          1 111111111111111  111111      111        111  111\n11111111111111  111 11     1  111   111  11111111   11111111111111   11111  1111 11  111111 11   11 \n1111111111111   11  1  111    11  1 11   1111111  1 1111111111111  1 1111   111  1   11111  1  1 1  \n111111111111  1 1      11  11 1     1  1 111111     111111111111     111  1 11     1 1111          1\n11111111111       1111 1   1    111      11111  111 11111111111  111 11     1  111   111  11111111  \n1111111111  11111 111    1   11 11  1111 1111   11  1111111111   11  1  111    11  1 11   1111111  1\n111111111   1111  11  11   1 1  1   111  111  1 1   111111111  1 1      11  11 1     1  1 111111    \n11111111  1 111   1   1  1        1 11   11       1 11111111       1111 1   1    111      11111  111\n1111111     11  1   1      111111   1  1 1  11111   1111111  11111 111    1   11 11  1111 1111   11 \n111111  111 1     1   1111 11111  1         1111  1 111111   1111  11  11   1 1  1   111  111  1 1  \n11111   11    111   1 111  1111     1111111 111     11111  1 111   1   1  1        1 11   11       1\n1111  1 1  11 11  1   11   111  111 111111  11  111 1111     11  1   1      111111   1  1 1  11111  \n111        1  1     1 1  1 11   11  11111   1   11  111  111 1     1   1111 11111  1         1111  1\n11  111111      111        1  1 1   1111  1   1 1   11   11    111   1 111  1111     1111111 111    \n1   11111  1111 11  111111        1 111     1     1 1  1 1  11 11  1   11   111  111 111111  11  111\n  1 1111   111  1   11111  111111   11  111   111           1  1     1 1  1 11   11  11111   1   11 \n1   111  1 11     1 1111   11111  1 1   11  1 11  111111111      111        1  1 1   1111  1   1 1  \n  1 11     1  111   111  1 1111       1 1     1   11111111  1111 11  111111        1 111     1     1\n1   1  111    11  1 11     111  11111     111   1 1111111   111  1   11111  111111   11  111   111  \n  1    11  11 1     1  111 11   1111  111 11  1   111111  1 11     1 1111   11111  1 1   11  1 11  1\n1   11 1   1    111    11  1  1 111   11  1     1 11111     1  111   111  1 1111       1 1     1    \n  1 1    1   11 11  11 1        11  1 1     111   1111  111    11  1 11     111  11111     111   111\n1     11   1 1  1   1    111111 1       111 11  1 111   11  11 1     1  111 11   1111  111 11  1 11 \n  111 1  1        1   11 11111    11111 11  1     11  1 1   1    111    11  1  1 111   11  1     1  \n1 11       111111   1 1  1111  11 1111  1     111 1       1   11 11  11 1        11  1 1     111   1\n  1  11111 11111  1      111   1  111     111 11    11111   1 1  1   1    111111 1       111 11  1  \n1    1111  1111     1111 11  1    11  111 11  1  11 1111  1        1   11 11111    11111 11  1     1\n  11 111   111  111 111  1     11 1   11  1      1  111     111111   1 1  1111  11 1111  1     111  \n1 1  11  1 11   11  11     111 1    1 1     1111    11  111 11111  1      111   1  111     111 11  1\n     1     1  1 1   1  111 11    11     111 111  11 1   11  1111     1111 11  1    11  111 11  1    \n1111   111        1    11  1  11 1  111 11  11   1    1 1   111  111 111  1     11 1   11  1     111\n111  1 11  111111   11 1      1     11  1   1  1   11     1 11   11  11     111 1    1 1     111 11 \n11     1   11111  1 1    1111   111 1     1      1 1  111   1  1 1   1  111 11    11     111 11  1  \n1  111   1 1111       11 111  1 11    111   1111      11  1        1    11  1  11 1  111 11  1     1\n   11  1   111  11111 1  11     1  11 11  1 111  1111 1     111111   11 1      1     11  1     111  \n11 1     1 11   1111     1  111    1  1     11   111    111 11111  1 1    1111   111 1     111 11  1\n1    111   1  1 111  111    11  11      111 1  1 11  11 11  1111       11 111  1 11    111 11  1    \n  11 11  1      11   11  11 1   1  1111 11       1   1  1   111  11111 1  11     1  11 11  1     111\n1 1  1     1111 1  1 1   1    1    111  1  11111   1      1 11   1111     1  111    1  1     111 11 \n       111 111         1   11   11 11      1111  1   1111   1  1 111  111    11  11      111 11  1  \n111111 11  11  1111111   1 1  1 1  1  1111 111     1 111  1      11   11  11 1   1  1111 11  1     1\n11111  1   1   111111  1              111  11  111   11     1111 1  1 1   1    1    111  1     111  \n1111     1   1 11111     111111111111 11   1   11  1 1  111 111         1   11   11 11     111 11  1\n111  111   1   1111  111 11111111111  1  1   1 1        11  11  1111111   1 1  1 1  1  111 11  1    \n11   11  1   1 111   11  1111111111        1     111111 1   1   111111  1              11  1     111\n1  1 1     1   11  1 1   111111111  111111   111 11111    1   1 11111     111111111111 1     111 11 \n       111   1 1       1 11111111   11111  1 11  1111  11   1   1111  111 11111111111    111 11  1  \n111111 11  1     11111   1111111  1 1111     1   111   1  1   1 111   11  1111111111  11 11  1     1\n11111  1     111 1111  1 111111     111  111   1 11  1      1   11  1 1   111111111   1  1     111  \n1111     111 11  111     11111  111 11   11  1   1     1111   1 1       1 11111111  1      111 11  1\n111  111 11  1   11  111 1111   11  1  1 1     1   111 111  1     11111   1111111     1111 11  1    \n11   11  1     1 1   11  111  1 1          111   1 11  11     111 1111  1 111111  111 111  1     111\n1  1 1     111     1 1   11       11111111 11  1   1   1  111 11  111     11111   11  11     111 11 \n       111 11  111     1 1  11111 1111111  1     1   1    11  1   11  111 1111  1 1   1  111 11  1  \n111111 11  1   11  111      1111  111111     111   1   11 1     1 1   11  111       1    11  1     1\n11111  1     1 1   11  1111 111   11111  111 11  1   1 1    111     1 1   11  11111   11 1     111  \n1111     111     1 1   111  11  1 1111   11  1     1     11 11  111     1 1   1111  1 1    111 11  1\n111  111 11  111     1 11   1     111  1 1     111   111 1  1   11  111     1 111       11 11  1    \n11   11  1   11  111   1  1   111 11       111 11  1 11       1 1   11  111   11  11111 1  1     111\n1  1 1     1 1   11  1      1 11  1  11111 11  1     1  11111     1 1   11  1 1   1111       111 11 \n       111     1 1     1111   1      1111  1     111    1111  111     1 1       1 111  11111 11  1  \n111111 11  111     111 111  1   1111 111     111 11  11 111   11  111     11111   11   1111  1     1\n11111  1   11  111 11  11     1 111  11  111 11  1   1  11  1 1   11  111 1111  1 1  1 111     111  \n1111     1 1   11  1   1  111   11   1   11  1     1    1       1 1   11  111          11  111 11  1\n111  111     1 1     1    11  1 1  1   1 1     111   11   11111     1 1   11  11111111 1   11  1    \n11   11  111     111   11 1          1     111 11  1 1  1 1111  111     1 1   1111111    1 1     111\n1  1 1   11  111 11  1 1    11111111   111 11  1          111   11  111     1 111111  11     111 11 ", sb.toString());
	}
	
	/**
	 * Case 3: Step Test Odd
	 */
	@Test
	public void stepTestOdd(){
		// Sierpinski Carpet Test
		CA testCA = new CA(99);
		int[] rule = {1,0,0,1,0,0,0,1};
		testCA.initialize(rule);
		StringBuilder sb = new StringBuilder();
		sb.append(testCA.toString());
		for(int i = 0; i < 100; i++){
			testCA.step();
			sb.append("\n");
			sb.append(testCA.toString());
		}
		assertEquals("Step Test", "                                                 1                                                 \n111111111111111111111111111111111111111111111111   111111111111111111111111111111111111111111111111\n11111111111111111111111111111111111111111111111  1 11111111111111111111111111111111111111111111111 \n1111111111111111111111111111111111111111111111     1111111111111111111111111111111111111111111111  \n111111111111111111111111111111111111111111111  111 111111111111111111111111111111111111111111111  1\n11111111111111111111111111111111111111111111   11  11111111111111111111111111111111111111111111    \n1111111111111111111111111111111111111111111  1 1   1111111111111111111111111111111111111111111  111\n111111111111111111111111111111111111111111       1 111111111111111111111111111111111111111111   11 \n11111111111111111111111111111111111111111  11111   11111111111111111111111111111111111111111  1 1  \n1111111111111111111111111111111111111111   1111  1 1111111111111111111111111111111111111111       1\n111111111111111111111111111111111111111  1 111     111111111111111111111111111111111111111  11111  \n11111111111111111111111111111111111111     11  111 11111111111111111111111111111111111111   1111  1\n1111111111111111111111111111111111111  111 1   11  1111111111111111111111111111111111111  1 111    \n111111111111111111111111111111111111   11    1 1   111111111111111111111111111111111111     11  111\n11111111111111111111111111111111111  1 1  11     1 11111111111111111111111111111111111  111 1   11 \n1111111111111111111111111111111111        1  111   1111111111111111111111111111111111   11    1 1  \n111111111111111111111111111111111  111111    11  1 111111111111111111111111111111111  1 1  11     1\n11111111111111111111111111111111   11111  11 1     11111111111111111111111111111111        1  111  \n1111111111111111111111111111111  1 1111   1    111 1111111111111111111111111111111  111111    11  1\n111111111111111111111111111111     111  1   11 11  111111111111111111111111111111   11111  11 1    \n11111111111111111111111111111  111 11     1 1  1   11111111111111111111111111111  1 1111   1    111\n1111111111111111111111111111   11  1  111        1 1111111111111111111111111111     111  1   11 11 \n111111111111111111111111111  1 1      11  111111   111111111111111111111111111  111 11     1 1  1  \n11111111111111111111111111       1111 1   11111  1 11111111111111111111111111   11  1  111        1\n1111111111111111111111111  11111 111    1 1111     1111111111111111111111111  1 1      11  111111  \n111111111111111111111111   1111  11  11   111  111 111111111111111111111111       1111 1   11111  1\n11111111111111111111111  1 111   1   1  1 11   11  11111111111111111111111  11111 111    1 1111    \n1111111111111111111111     11  1   1      1  1 1   1111111111111111111111   1111  11  11   111  111\n111111111111111111111  111 1     1   1111        1 111111111111111111111  1 111   1   1  1 11   11 \n11111111111111111111   11    111   1 111  111111   11111111111111111111     11  1   1      1  1 1  \n1111111111111111111  1 1  11 11  1   11   11111  1 1111111111111111111  111 1     1   1111        1\n111111111111111111        1  1     1 1  1 1111     111111111111111111   11    111   1 111  111111  \n11111111111111111  111111      111        111  111 11111111111111111  1 1  11 11  1   11   11111  1\n1111111111111111   11111  1111 11  111111 11   11  1111111111111111        1  1     1 1  1 1111    \n111111111111111  1 1111   111  1   11111  1  1 1   111111111111111  111111      111        111  111\n11111111111111     111  1 11     1 1111          1 11111111111111   11111  1111 11  111111 11   11 \n1111111111111  111 11     1  111   111  11111111   1111111111111  1 1111   111  1   11111  1  1 1  \n111111111111   11  1  111    11  1 11   1111111  1 111111111111     111  1 11     1 1111          1\n11111111111  1 1      11  11 1     1  1 111111     11111111111  111 11     1  111   111  11111111  \n1111111111       1111 1   1    111      11111  111 1111111111   11  1  111    11  1 11   1111111  1\n111111111  11111 111    1   11 11  1111 1111   11  111111111  1 1      11  11 1     1  1 111111    \n11111111   1111  11  11   1 1  1   111  111  1 1   11111111       1111 1   1    111      11111  111\n1111111  1 111   1   1  1        1 11   11       1 1111111  11111 111    1   11 11  1111 1111   11 \n111111     11  1   1      111111   1  1 1  11111   111111   1111  11  11   1 1  1   111  111  1 1  \n11111  111 1     1   1111 11111  1         1111  1 11111  1 111   1   1  1        1 11   11       1\n1111   11    111   1 111  1111     1111111 111     1111     11  1   1      111111   1  1 1  11111  \n111  1 1  11 11  1   11   111  111 111111  11  111 111  111 1     1   1111 11111  1         1111  1\n11        1  1     1 1  1 11   11  11111   1   11  11   11    111   1 111  1111     1111111 111    \n1  111111      111        1  1 1   1111  1   1 1   1  1 1  11 11  1   11   111  111 111111  11  111\n   11111  1111 11  111111        1 111     1     1         1  1     1 1  1 11   11  11111   1   11 \n11 1111   111  1   11111  111111   11  111   111   1111111      111        1  1 1   1111  1   1 1  \n1  111  1 11     1 1111   11111  1 1   11  1 11  1 111111  1111 11  111111        1 111     1     1\n   11     1  111   111  1 1111       1 1     1     11111   111  1   11111  111111   11  111   111  \n11 1  111    11  1 11     111  11111     111   111 1111  1 11     1 1111   11111  1 1   11  1 11  1\n1     11  11 1     1  111 11   1111  111 11  1 11  111     1  111   111  1 1111       1 1     1    \n  111 1   1    111    11  1  1 111   11  1     1   11  111    11  1 11     111  11111     111   111\n1 11    1   11 11  11 1        11  1 1     111   1 1   11  11 1     1  111 11   1111  111 11  1 11 \n  1  11   1 1  1   1    111111 1       111 11  1     1 1   1    111    11  1  1 111   11  1     1  \n1    1  1        1   11 11111    11111 11  1     111     1   11 11  11 1        11  1 1     111   1\n  11      111111   1 1  1111  11 1111  1     111 11  111   1 1  1   1    111111 1       111 11  1  \n1 1  1111 11111  1      111   1  111     111 11  1   11  1        1   11 11111    11111 11  1     1\n     111  1111     1111 11  1    11  111 11  1     1 1     111111   1 1  1111  11 1111  1     111  \n1111 11   111  111 111  1     11 1   11  1     111     111 11111  1      111   1  111     111 11  1\n111  1  1 11   11  11     111 1    1 1     111 11  111 11  1111     1111 11  1    11  111 11  1    \n11        1  1 1   1  111 11    11     111 11  1   11  1   111  111 111  1     11 1   11  1     111\n1  111111        1    11  1  11 1  111 11  1     1 1     1 11   11  11     111 1    1 1     111 11 \n   11111  111111   11 1      1     11  1     111     111   1  1 1   1  111 11    11     111 11  1  \n11 1111   11111  1 1    1111   111 1     111 11  111 11  1        1    11  1  11 1  111 11  1     1\n1  111  1 1111       11 111  1 11    111 11  1   11  1     111111   11 1      1     11  1     111  \n   11     111  11111 1  11     1  11 11  1     1 1     111 11111  1 1    1111   111 1     111 11  1\n11 1  111 11   1111     1  111    1  1     111     111 11  1111       11 111  1 11    111 11  1    \n1     11  1  1 111  111    11  11      111 11  111 11  1   111  11111 1  11     1  11 11  1     111\n  111 1        11   11  11 1   1  1111 11  1   11  1     1 11   1111     1  111    1  1     111 11 \n1 11    111111 1  1 1   1    1    111  1     1 1     111   1  1 111  111    11  11      111 11  1  \n  1  11 11111         1   11   11 11     111     111 11  1      11   11  11 1   1  1111 11  1     1\n1    1  1111  1111111   1 1  1 1  1  111 11  111 11  1     1111 1  1 1   1    1    111  1     111  \n  11    111   111111  1              11  1   11  1     111 111         1   11   11 11     111 11  1\n1 1  11 11  1 11111     111111111111 1     1 1     111 11  11  1111111   1 1  1 1  1  111 11  1    \n     1  1     1111  111 11111111111    111     111 11  1   1   111111  1              11  1     111\n1111      111 111   11  1111111111  11 11  111 11  1     1   1 11111     111111111111 1     111 11 \n111  1111 11  11  1 1   111111111   1  1   11  1     111   1   1111  111 11111111111    111 11  1  \n11   111  1   1       1 11111111  1      1 1     111 11  1   1 111   11  1111111111  11 11  1     1\n1  1 11     1   11111   1111111     1111     111 11  1     1   11  1 1   111111111   1  1     111  \n     1  111   1 1111  1 111111  111 111  111 11  1     111   1 1       1 11111111  1      111 11  1\n1111    11  1   111     11111   11  11   11  1     111 11  1     11111   1111111     1111 11  1    \n111  11 1     1 11  111 1111  1 1   1  1 1     111 11  1     111 1111  1 111111  111 111  1     111\n11   1    111   1   11  111       1        111 11  1     111 11  111     11111   11  11     111 11 \n1  1   11 11  1   1 1   11  11111   111111 11  1     111 11  1   11  111 1111  1 1   1  111 11  1  \n     1 1  1     1     1 1   1111  1 11111  1     111 11  1     1 1   11  111       1    11  1     1\n1111        111   111     1 111     1111     111 11  1     111     1 1   11  11111   11 1     111  \n111  111111 11  1 11  111   11  111 111  111 11  1     111 11  111     1 1   1111  1 1    111 11  1\n11   11111  1     1   11  1 1   11  11   11  1     111 11  1   11  111     1 111       11 11  1    \n1  1 1111     111   1 1       1 1   1  1 1     111 11  1     1 1   11  111   11  11111 1  1     111\n     111  111 11  1     11111     1        111 11  1     111     1 1   11  1 1   1111       111 11 \n1111 11   11  1     111 1111  111   111111 11  1     111 11  111     1 1       1 111  11111 11  1  \n111  1  1 1     111 11  111   11  1 11111  1     111 11  1   11  111     11111   11   1111  1     1\n11          111 11  1   11  1 1     1111     111 11  1     1 1   11  111 1111  1 1  1 111     111  \n1  11111111 11  1     1 1       111 111  111 11  1     111     1 1   11  111          11  111 11  1\n   1111111  1     111     11111 11  11   11  1     111 11  111     1 1   11  11111111 1   11  1    \n11 111111     111 11  111 1111  1   1  1 1     111 11  1   11  111     1 1   1111111    1 1     111\n1  11111  111 11  1   11  111     1        111 11  1     1 1   11  111     1 111111  11     111 11 ", sb.toString());
	}
	
	/**
	 * Case 4: Boundary Case Test (Size 1)
	 */
	@Test
	public void boundaryTest(){
		// Sierpinski Carpet Test
		CA testCA = new CA(1);
		int[] rule = {1,0,0,1,0,0,0,1};
		testCA.initialize(rule);
		StringBuilder sb = new StringBuilder();
		sb.append(testCA.toString());
		for(int i = 0; i < 5; i++){
			testCA.step();
			sb.append("\n");
			sb.append(testCA.toString());
		}
		assertEquals("Step Test", "1\n \n1\n \n1\n ", sb.toString());
	}
	
	/**
	 * Case 5: Test case provided in the problem itself, testing iterator
	 */
	@Test
	public void iteratorTest1() {
		CA testCA = new CA(31);
		int[] rule = { 0, 1, 0, 0, 1, 0, 0, 0 };
		testCA.initialize(rule);

		Iterator<String> iterator = testCA.iterator();
		StringBuilder sb = new StringBuilder();
		for (int i = 0; i < 17; i++) {
			if (iterator.hasNext()) {
				String s = iterator.next();
				sb.append(s);
				sb.append("\n");
			}
		}
		assertEquals(
				"IteratorTest1",
				"               1               \n              1 1              \n             1   1             \n            1 1 1 1            \n           1       1           \n          1 1     1 1          \n         1   1   1   1         \n        1 1 1 1 1 1 1 1        \n       1               1       \n      1 1             1 1      \n     1   1           1   1     \n    1 1 1 1         1 1 1 1    \n   1       1       1       1   \n  1 1     1 1     1 1     1 1  \n 1   1   1   1   1   1   1   1 \n1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n                               \n",
				sb.toString());
	}

	/**
	 * Case 6: Test case provided in the interesting problem section, testing
	 * iterator
	 */
	@Test
	public void iteratorTest2() {
		CA testCA = new CA(31);
		int[] rule = { 0, 1, 1, 1, 1, 0, 0, 0 };
		testCA.initialize(rule);

		Iterator<String> iterator = testCA.iterator();
		StringBuilder sb = new StringBuilder();
		for (int i = 0; i < 64; i++) {
			if (iterator.hasNext()) {
				String s = iterator.next();
				sb.append(s);
				sb.append("\n");
			}
		}
		assertEquals(
				"IteratorTest",
				"               1               \n              111              \n             11  1             \n            11 1111            \n           11  1   1           \n          11 1111 111          \n         11  1    1  1         \n        11 1111  111111        \n       11  1   111     1       \n      11 1111 11  1   111      \n     11  1    1 1111 11  1     \n    11 1111  11 1    1 1111    \n   11  1   111  11  11 1   1   \n  11 1111 11  111 111  11 111  \n 11  1    1 111   1  111  1  1 \n11 1111  11 1  1 11111  1111111\n1  1   111  1111 1    111      \n11111 11  111    11  11  1     \n1     1 111  1  11 111 1111    \n11   11 1  111111  1   1   1   \n1 1 11  1111     1111 111 111  \n1 1 1 111   1   11    1   1  1 \n1 1 1 1  1 111 11 1  111 111111\n1 1 1 1111 1   1  1111   1     \n1 1 1 1    11 11111   1 111    \n1 1 1 11  11  1    1 11 1  1   \n1 1 1 1 111 1111  11 1  11111  \n1 1 1 1 1   1   111  1111    1 \n1 1 1 1 11 111 11  111   1  111\n1 1 1 1 1  1   1 111  1 11111  \n1 1 1 1 11111 11 1  111 1    1 \n1 1 1 1 1     1  1111   11  111\n1 1 1 1 11   11111   1 11 111  \n1 1 1 1 1 1 11    1 11 1  1  1 \n1 1 1 1 1 1 1 1  11 1  11111111\n1 1 1 1 1 1 1 1111  1111       \n1 1 1 1 1 1 1 1   111   1      \n1 1 1 1 1 1 1 11 11  1 111     \n1 1 1 1 1 1 1 1  1 111 1  1    \n1 1 1 1 1 1 1 1111 1   11111   \n1 1 1 1 1 1 1 1    11 11    1  \n1 1 1 1 1 1 1 11  11  1 1  111 \n1 1 1 1 1 1 1 1 111 111 1111  1\n1 1 1 1 1 1 1 1 1   1   1   111\n1 1 1 1 1 1 1 1 11 111 111 11  \n1 1 1 1 1 1 1 1 1  1   1   1 1 \n1 1 1 1 1 1 1 1 11111 111 11 11\n1 1 1 1 1 1 1 1 1     1   1  1 \n1 1 1 1 1 1 1 1 11   111 111111\n1 1 1 1 1 1 1 1 1 1 11   1     \n1 1 1 1 1 1 1 1 1 1 1 1 111    \n1 1 1 1 1 1 1 1 1 1 1 1 1  1   \n1 1 1 1 1 1 1 1 1 1 1 1 11111  \n1 1 1 1 1 1 1 1 1 1 1 1 1    1 \n1 1 1 1 1 1 1 1 1 1 1 1 11  111\n1 1 1 1 1 1 1 1 1 1 1 1 1 111  \n1 1 1 1 1 1 1 1 1 1 1 1 1 1  1 \n1 1 1 1 1 1 1 1 1 1 1 1 1 11111\n1 1 1 1 1 1 1 1 1 1 1 1 1 1    \n1 1 1 1 1 1 1 1 1 1 1 1 1 11   \n1 1 1 1 1 1 1 1 1 1 1 1 1 1 1  \n1 1 1 1 1 1 1 1 1 1 1 1 1 1 11 \n1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n",
				sb.toString());
	}

}
